<!doctype html><html lang="fr"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Veyra â€” Status</title>
<link rel="stylesheet" href="/public/css/globals.css"/>
</head><body>
<main class="container" style="padding:24px 16px">
  <h1>Status</h1>
  <div id="grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px"></div>
  <details class="card" style="margin-top:12px"><summary>/metrics (texte)</summary><pre id="metrics" class="mono" style="white-space:pre-wrap"></pre></details>
</main>
<script src="/public/js/layout.js"></script>
<script>
async function box(label, ok){
  const c = document.createElement('div'); c.className='card';
  c.innerHTML = `<div class="muted">${label}</div><div style="font-size:22px;margin-top:8px"><span style="display:inline-block;width:10px;height:10px;border-radius:99px;background:${ok?'#16A34A':'#EF4444'};margin-right:6px"></span>${ok?'OK':'DOWN'}</div>`;
  return c;
}
async function load(){
  const grid = document.getElementById('grid');
  const h = await fetch('/healthz'); grid.appendChild(await box('/healthz', h.ok));
  const r = await fetch('/readyz');  grid.appendChild(await box('/readyz', r.ok));
  const m = await fetch('/metrics'); document.getElementById('metrics').textContent = await m.text();
}
load();
</script>
</body></html>
