<!doctype html><html lang="fr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Veyra — Benchmarks</title>
<meta name="description" content="TTV médian, VSR et volume de preuves — métriques Veyra en direct.">
<link rel="icon" href="/public/favicon.svg"><link rel="stylesheet" href="/public/css/globals.css">
</head><body>
<header class="navbar"><div class="container inner">
  <a class="brand" href="/"><img src="/public/logo/veyra_mark_dark.svg" alt=""><span>Veyra</span></a>
  <nav><a href="/app" data-match="/app">Aujourd’hui</a><a href="/benchmarks" data-match="/benchmarks">Benchmarks</a><a href="/docs" data-match="/docs">Docs</a><a href="/status" data-match="/status">Status</a></nav>
  <div class="actions"><a class="btn" href="/export.zip">Export CSV/ZIP</a></div></div></header>

<section class="container" style="padding:28px 0">
  <h1 class="h1" style="margin:0 0 8px 0">Benchmarks live</h1>
  <p class="sub">TTV médian (s), VSR (%), Preuves / 24 h</p>
  <div class="grid cols-3" style="margin-top:16px">
    <div class="card"><div class="small muted">TTV médian</div><div id="ttv" style="font-size:28px;font-weight:700">—</div></div>
    <div class="card"><div class="small muted">VSR</div><div id="vsr" style="font-size:28px;font-weight:700">—</div></div>
    <div class="card"><div class="small muted">Preuves/24h</div><div id="p24" style="font-size:28px;font-weight:700">—</div></div>
  </div>
  <div class="card" style="margin-top:16px">
    <h3 style="margin:0 0 8px 0">Comment c’est calculé ?</h3>
    <div class="small">Données issues de <code>/metrics</code> (serveur). Vérifiable via <code>veyra verify</code> et checkpoints hebdo.</div>
  </div>
</section>

<footer><div class="container small">© Veyra — <a class="link" href="/docs">Docs</a> · <a class="link" href="/security">Security</a></div></footer>
<script>
(async ()=>{
  try{
    const r=await fetch('/metrics'); const m=await r.json();
    const safe=(x)=> (x==null?'—':(typeof x==='number'? (''+x).replace(/(?<=\d)(?=(\d{3})+(?!\d))/g,'\u00A0') : x));
    document.getElementById('ttv').textContent = safe(m.ttv_median);
    document.getElementById('vsr').textContent = (m.vsr_ratio!=null? Math.round(m.vsr_ratio*100)+'%':'—');
    document.getElementById('p24').textContent = safe(m.total_proofs);
  }catch(e){ console.error(e); }
})();
</script>
<script src="/public/js/main.js"></script>
</body></html>
