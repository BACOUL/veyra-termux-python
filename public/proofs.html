<!doctype html><html lang="fr"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Veyra — Preuves</title>
<link rel="stylesheet" href="/public/css/globals.css"/>
</head><body>
<link rel="stylesheet" href="/public/css/globals.css">
<script src="/public/js/main.js"></script>


<main class="container" style="padding:24px 16px">
  <h1>Preuves</h1>
  <input id="q" placeholder="Filtrer par id/sha…" style="margin:10px 0;padding:8px 10px;border-radius:12px;border:1px solid var(--veyra-slate-700);background:rgba(17,24,39,.6);color:#E5F3F0;width:100%;max-width:420px">
  <div id="list" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px"></div>
</main>
<script src="/public/js/layout.js"></script>
<script>
async function load(){
  const r = await fetch('/proofs'); const j = await r.json();
  const ids = (j.items||j||[]); // tolère les deux formats
  window._proofIds = ids;
  render();
}
function render(){
  const list = document.getElementById('list'); const q = (document.getElementById('q').value||'').toLowerCase();
  list.innerHTML='';
  (window._proofIds||[]).slice().reverse().filter(id=>id.toLowerCase().includes(q)).forEach(id=>{
    const card = document.createElement('div'); card.className='card';
    card.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong class="mono" style="font-size:12px">${id}</strong>
        <a class="btn-ghost" href="/public/proof.html?id=${encodeURIComponent(id)}">Ouvrir</a>
      </div>
    `;
    list.appendChild(card);
  });
}
document.getElementById('q').addEventListener('input', render);
load();
</script>
</body></html>
